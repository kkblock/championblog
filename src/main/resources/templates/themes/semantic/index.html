<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--header-->
<div th:replace="themes/semantic/header::header(null,null)"></div>
<script>
    function searchkeywords (obj) {

    }
</script>
<body>
<section class="section">
    <div class="ui vertical masthead center aligned segment inverted">
        <div class="ui text container">
            <h1 class="ui header inverted">
                Imagine
            </h1>
            <h2>Do whatever you want when you want to.</h2>
        </div>
    </div>

    <div class="ui search container">
        <div class="ui fluid container">
            <div class="ui action left icon input" id="middleSearch">
                <i class="search icon"></i>
                <input id="searchit" name="searchkeyword" type="text" placeholder="输入关键字..." />
                <div class="ui teal button" id="searchbtn" onclick="searchkeywords();">搜索文章</div>
            </div>
        </div>
    </div>

    <!-- middle container -->
    <div class="ui main container">
        <!--search-->
        <!--no article-->
        <th:block th:if="${commons.is_empty(articles)}">
            <div class="ui segment basic">
                <p>抱歉，还没有相关文章.</p>
            </div>
        </th:block>

        <th:block th:unless="${commons.is_empty(articles)}">
            <!--articles-->
            <div class="ui segment basic vertical" id="articlestiky">
                <div class="ui header">
                    <i class="book icon"></i>
                    <h6 class="content">文章列表 >></h6>
                </div>

                <!--article left-->
                <!--            <div class="ui left dividing very close rail" style="margin-right: 3em">-->
                <!--                <div class="ui segment medium center aligned vertical">-->
                <!--                    <div class="ui sticky articleleftstiky">-->
                <!--                        <h3 class="ui header">Stuck Content</h3>-->
                <!--                        <p>Left Rail Content </p>-->
                <!--                        <p>Left Rail Content </p>-->
                <!--                        <p>Left Rail Content </p>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--            </div>-->

                <!--article right-->
                <!--            <div class="ui right very close rail" style="margin-left: 3em">-->
                <!--                <div class="ui segment medium center aligned vertical">-->
                <!--                    <h3 class="ui header">Stuck Content</h3>-->
                <!--                    <p>Right Rail Content </p>-->
                <!--                    <p>Right Rail Content </p>-->
                <!--                    <p>Right Rail Content </p>-->
                <!--                </div>-->
                <!--            </div>-->

                <!--articles items-->
                <div class="ui very relaxed unstackable divided items" th:each="article: ${articles.list}">
                    <div class="item">
                        <a class="ui small image"
                           th:href="${#request.getContextPath() + '/category/' + article.categories}">
                            <img th:src="@{'/public/images/' + ${article.categories == null? 'code': article.categories} + '.png'}" alt="类别"/>
                        </a>
                        <div class="content">
                            <!--<a class="header">elasticsearch mapping 作用</a>-->
                            <a class="ui header" th:href="${#request.getContextPath() + commons.permalink(article)}"><h1
                                    th:text="${article.title}"></h1></a>
                            <div class="meta">
                                <i class="small grey user icon" style="margin: 0 5px"></i><a
                                    th:href="${#request.getContextPath() + '/posted/' + article.authorId}"
                                    th:text="${commons.getUserName(article.authorId)}"></a>
                                <i class="small grey clock icon" style="margin: 0 5px"></i>
                                <th:block
                                        th:utext="${commons.fmtdate(article.created,'yyyy年MM月dd日 HH:mm')}"/>
                            </div>
                            <div class="description article">
                                <p th:text="${commons.intro(article.content,100)}">
                                </p>
                            </div>
                            <div class="ui labels extra ptags">
                                <a class="ui small label"
                                   th:each="tag: ${#strings.listSplit(article.tags,',')}" th:text="${tag}"
                                   th:href="${#request.getContextPath() + '/tag/' + tag}"></a>
                                <a class="ui mini right floated primary button"
                                   th:href="${#request.getContextPath() + commons.permalink(article)}">进入阅读 <i
                                        class="right chevron icon"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="ui divider"></div>
                </div>
            </div>
        </th:block>
    </div>

    <div th:replace="comm/page::page(${articles},'上一页','下一页','page')"></div>
</section>
<!--segment-->
</body>
<div th:replace="themes/semantic/footer::footer"></div>
</html>
